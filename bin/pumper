#!/usr/bin/env ruby
require 'optparse'
require 'pumper'

options = Hash.new

opts = OptionParser.new do |opts|
  opts.banner = %q[Pumper]

  opts.on('-p', '--project PROJECT_PATH', 'Path to ruby project where need update current gem') do |project|
    options[:project] = project
  end

  opts.on('-a', '--absolute_path', 'If project path is absolute') do
    options[:absolute_path] = true
  end

  opts.on('-c', '--config', 'If use .pumper.yml config') do
    options[:config] = true
  end

  opts.on('-g', '--gemset GEMSET', 'Gemset name (if you use rvm)') do |gemset|
    options[:gemset] = gemset
  end

  opts.on('-e', '--vendor', 'If project gems stored in the vendor/cache') do
    options[:vendor] = true
  end
end

opts.parse!

Pumper::Pump.new(Pumper::Configuration.configure!(options)).perform